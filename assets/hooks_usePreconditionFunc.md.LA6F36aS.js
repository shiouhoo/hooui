import{y as F,m as E,d as u,h as p,D as o,o as g,c as y,k as i,t as m,I as n,w as d,a as s,F as f,R as _}from"./chunks/framework.2gZay9Je.js";function c(e){return e.every(a=>{const t=E(a);return Array.isArray(t)&&t.length||Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).length?!0:t!=null})}function b(e,a){const t=Array.isArray(e)?e:[e];return()=>{if(c(t))a();else{const k=F(t,r=>{c(r)&&(a(),k())})}}}const D=u({__name:"usePreconditionFunc.md.demo.5112b75b",setup(e){const a=p(),t=p("等待数据加载。。。");return b(a,()=>{t.value="页面加载完成"})(),(r,h)=>{const l=o("a-button");return g(),y(f,null,[i("div",null,m(E(t)),1),n(l,{onClick:h[0]||(h[0]=x=>a.value=12)},{default:d(()=>[s(" 点击模拟数据加载完成 ")]),_:1})],64)}}}),C=_('<h1 id="usepreconditionfunc" tabindex="-1">usePreconditionFunc <a class="header-anchor" href="#usepreconditionfunc" aria-label="Permalink to &quot;usePreconditionFunc&quot;">​</a></h1><p>在开发的时候经常遇到props中的数据需要格式化，但是数据有还处于请求之中，而父组件直接使用v-if判断该数据是否要渲染子组件则会留下空白，就需要在实现有数据之后才调用格式化函数。 <br></p><p>这是一个封装数据以及副作用函数的hook，该hook返回封装后的函数，该函数会在合适的时机调用传入的副作用函数。</p><h2 id="源文件" tabindex="-1">源文件 <a class="header-anchor" href="#源文件" aria-label="Permalink to &quot;源文件&quot;">​</a></h2><p><a href="https://github.com/shiouhoo/hooui/blob/main/src/hooks/usePreconditionFunc.ts" target="_blank" rel="noreferrer">usePreconditionFunc.ts</a></p><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><h3 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h3>',7),A=i("div",{class:"language-vue vp-adaptive-theme"},[i("span",{class:"lang"},"vue"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code","v-pre":""},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"script"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," setup"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," lang"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"ts"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { usePreconditionFunc } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '../../src/hooks'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," num"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ref"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," text"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ref"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"string"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'等待数据加载。。。'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," getData"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," usePreconditionFunc"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(num,() "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    text.value "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '页面加载完成'"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"});")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 会等待监听数据存在之后调用，如果存在着立即调用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"getData"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"</"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"script"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"template"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    <"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"div"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," >")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        {{ text }}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    </"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"div"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    <"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"a-button"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," @click"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"num = 12"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> 点击模拟数据加载完成 </"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"a-button"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"</"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"template"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")])])])],-1),P=i("h2",{id:"props-参数",tabindex:"-1"},[s("props 参数 "),i("a",{class:"header-anchor",href:"#props-参数","aria-label":'Permalink to "props 参数"'},"​")],-1),v=i("h2",{id:"返回值",tabindex:"-1"},[s("返回值 "),i("a",{class:"header-anchor",href:"#返回值","aria-label":'Permalink to "返回值"'},"​")],-1),V=JSON.parse('{"title":"usePreconditionFunc","description":"","frontmatter":{"outline":[2,3]},"headers":[],"relativePath":"hooks/usePreconditionFunc.md","filePath":"hooks/usePreconditionFunc.md"}'),B={name:"hooks/usePreconditionFunc.md"},w=u({...B,setup(e){const a=[{name:"第一个参数",desc:"监听的数据",type:"Ref| Ref[]",defaultValue:"-"},{name:"第二个参数",desc:"回调函数",type:"Function",defaultValue:"-"}],t=[{name:"default",desc:"封装后的函数，执行时监听数据不为空这执行，否则使用watch函数监听数据变化后执行",type:"Function",defaultValue:"-"}];return(k,r)=>{const h=o("demo"),l=o("ParamsTable");return g(),y("div",null,[C,n(h,{customClass:"",sourceCode:`<script setup lang="ts">
import { usePreconditionFunc } from '../../src/hooks';

const num = ref();

const text = ref<string>('等待数据加载。。。');

const getData = usePreconditionFunc(num,() => {
    text.value = '页面加载完成';
});
// 会等待监听数据存在之后调用，如果存在着立即调用
getData();

<\/script>
<template>
    <div >
        {{ text }}
    </div>
    <a-button @click="num = 12"> 点击模拟数据加载完成 </a-button>
</template>
`,options:"{}"},{highlight:d(()=>[A]),default:d(()=>[n(D)]),_:1}),P,n(l,{data:a}),v,n(l,{data:t})])}}});export{V as __pageData,w as default};
